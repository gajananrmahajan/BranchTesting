package com.example.utils;

import java.io.FileInputStream;
import java.io.IOException;
import java.util.Properties;

public class ApiPropertiesUtils {

    // Load properties from a file and set them as system properties
    public static void loadPropertiesAsSystemProperties(String propertiesFilePath) {
        Properties properties = new Properties();

        try (FileInputStream input = new FileInputStream(propertiesFilePath)) {
            // Load the properties from the file
            properties.load(input);

            // Set each property as a system property
            for (String key : properties.stringPropertyNames()) {
                String value = properties.getProperty(key);
                System.setProperty(key, value);
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    // Get a system property value by key
    public static String getProperty(String key) {
        return System.getProperty(key);
    }

    public static void main(String[] args) {
        // Path to your properties file
        String propertiesFilePath = "path/to/config.properties";

        // Load the properties file and set the properties as system properties
        loadPropertiesAsSystemProperties(propertiesFilePath);

        // Example: Access a property
        String apiKey = getProperty("x.ab.api.key");
        String dbUrl = getProperty("database.url");
        String dbUsername = getProperty("database.username");
        String dbPassword = getProperty("database.password");

        // Print the values to verify
        System.out.println("API Key: " + apiKey);
        System.out.println("Database URL: " + dbUrl);
        System.out.println("Database Username: " + dbUsername);
        System.out.println("Database Password: " + dbPassword);
    }
}
